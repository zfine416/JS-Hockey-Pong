<!DOCTYPE html>
<html>
<head>
	<title>JavaScript Pong Game</title>
	<link rel="stylesheet" type="text/css" href="pong.css">
</head>
<body>
<script>
	//Set width and height of canvas
	var WIDTH=1000, HEIGHT=600, pi=Math.PI;
	//add standard canvas variables
	var canvas, ctx, keystate;
	var player, ai, ball;
	//player object
	player = {
		x: null,
		y: null,
		width: 20,
		height: 100,

		update: function(){},
		draw: function(){ctx.fillRect(this.x, this.y, this.width, this.height)
		}
	};
	//Ai object
	ai = {
		x: null,
		y: null,
		width: 20,
		height: 100,

		update: function(){},
		draw: function(){ctx.fillRect(this.x, this.y, this.width, this.height)
		}
	};
	// ball object
	ball = {
		x: null,
		y: null,
		side:20,

		update: function(){},
		draw: function(){ctx.fillRect(this.x, this.y, this.side, this.side)
		}
	};

	function main(){
		//Create and add canvas to body
		canvas = document.createElement("canvas");
		canvas.width = WIDTH;
		canvas.height = HEIGHT;
		ctx = canvas.getContext("2d");
		document.body.appendChild(canvas);


		init();

		var loop = function(){
			update();
			draw();

			window.requestAnimationFrame(loop, canvas);
		};
		window.requestAnimationFrame(loop, canvas);


	}

	function init(){
		//set starting positions
		player.x = player.width;
		player.y = (HEIGHT - player.height)/2;

		ai.x = WIDTH - (player.width + ai.width);
		ai.y = (HEIGHT - ai.height)/2;

		ball.x = (WIDTH - ball.side)/2;
		ball.y = (HEIGHT - ball.side)/2;
	}

	function update(){
		ball.update();
		player.update();
		ai.update();	
	}

	function draw(){
		ctx.fillStyle= "#A5F2F3";
		ctx.fillRect(0, 0, WIDTH, HEIGHT);

		ctx.save();
		ctx.fillStyle = "black";

		ball.draw();
		player.draw();
		ai.draw();

		var w = 4;
		var x = (WIDTH - w)*0.5;
		var y = 0;
		var step = HEIGHT/15;

		ctx.restore();
	}

	main();
</script>

</body>
</html>